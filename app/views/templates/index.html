{% extends "base.html" %}

{% block title %}Queen Game{% endblock %}

{% block content %}
  <!-- Top Bar: Settings icon + Timer -->
  <div class="top-bar mb-3">
    <button id="settings-btn" class="btn btn-link p-0">
      <img
        src="{{ url_for('static', filename='assets/settings_icon.png') }}"
        alt="Settings"
        class="settings-icon"
      />
    </button>
    <span id="timer" class="timer-text">00:00</span>
  </div>

  <!-- Game Board -->
  <div id="game-container" class="mx-auto mb-3">
    <div id="board"></div>
  </div>

  <!-- Controls -->
  <div class="controls-container mb-3">
    <button id="clear-btn" class="btn btn-primary rounded-pill">
      Clear Board
    </button>
    <button id="hint-btn" class="btn btn-warning rounded-pill">Hint</button>
    <button id="reset-btn" class="btn btn-primary rounded-pill">
      Reset Game
    </button>
  </div>

  <!-- Status / Feedback -->
  <div id="status-message" class="text-danger mb-3"></div>


  <!-- Settings Overlay (matches win-box styling) -->
  <div id="settings-overlay" class="settings-overlay">
    <div class="settings-box">
      <!-- close icon in top‐left -->
      <button id="close-settings-btn" class="settings-close">&times;</button>

      <!-- header -->
      <h2>⚙️ Settings</h2>

      <!-- Dark Mode toggle -->
      <div class="form-switch mb-3">
        <input
          class="form-check-input"
          type="checkbox"
          id="dark-mode-switch"
        />
        <label class="form-check-label" for="dark-mode-switch">
          Dark Mode
        </label>
      </div>

      <!-- Auto-Cross toggle -->
      <div class="form-switch mb-3">
        <input
          class="form-check-input"
          type="checkbox"
          id="auto-cross-switch"
          checked
        />
        <label class="form-check-label" for="auto-cross-switch">
          Auto-Cross
        </label>
      </div>

      <!-- Board Size slider -->
      <div class="form-group mb-3">
        <label for="settings-board-size">
          Board Size: <span id="settings-size-value">{{ board_size }}</span>
        </label>
        <input
          id="settings-board-size"
          type="range"
          min="4"
          max="15"
          value="{{ board_size }}"
        />
      </div>

      <!-- Generation Mode select -->
      <div class="form-group mb-4">
        <label for="settings-gen-mode">Generation Mode</label>
        <select id="settings-gen-mode">
          <option value="random"  {% if gen_mode=="random"  %}selected{% endif %}>
            Random
          </option>
          <option value="conquest" {% if gen_mode=="conquest" %}selected{% endif %}>
            Conquest
          </option>
        </select>
      </div>

      <!-- Apply button -->
      <button
        id="apply-settings-btn"
        class="btn btn-primary rounded-pill"
      >
        Apply Changes
      </button>
    </div>
  </div>
{% endblock %}
